import{a0 as U,k as A,f as X,W as Y,an as z,ao as Z,N as J,V as P,ap as ee,a2 as te,y as G,l as R,a as E,d as ne,A as W,am as re,aq as ae,F as se,ar as oe,s as ie}from"./index-70c8f837.js";function H(e){return ee()?(te(e),!0):!1}function M(e){return typeof e=="function"?e():X(e)}const ue=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const le=Object.prototype.toString,ce=e=>le.call(e)==="[object Object]",q=()=>{};function fe(e,n){function t(...o){return new Promise((r,i)=>{Promise.resolve(e(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(r).catch(i)})}return t}const B=e=>e();function de(e=B){const n=A(!0);function t(){n.value=!1}function o(){n.value=!0}const r=(...i)=>{n.value&&e(...i)};return{isActive:z(n),pause:t,resume:o,eventFilter:r}}function pe(e){return e||G()}function me(...e){if(e.length!==1)return Y(...e);const n=e[0];return typeof n=="function"?z(Z(()=>({get:n,set:q}))):A(n)}function ve(e,n,t={}){const{eventFilter:o=B,...r}=t;return R(e,fe(o,n),r)}function he(e,n,t={}){const{eventFilter:o,...r}=t,{eventFilter:i,pause:l,resume:s,isActive:u}=de(o);return{stop:ve(e,n,{...r,eventFilter:i}),pause:l,resume:s,isActive:u}}function I(e,n=!0,t){pe()?J(e,t):n?e():P(e)}function Me(e=!1,n={}){const{truthyValue:t=!0,falsyValue:o=!1}=n,r=U(e),i=A(e);function l(s){if(arguments.length)return i.value=s,i.value;{const u=M(t);return i.value=i.value===u?M(o):u,i.value}}return r?l:[i,l]}function Le(e={}){let n=0;const t=A([]);function o(...l){const s=ae({key:n++,args:l,promise:void 0,resolve:()=>{},reject:()=>{},isResolving:!1,options:e});return t.value.push(s),s.promise=new Promise((u,c)=>{s.resolve=f=>(s.isResolving=!0,u(f)),s.reject=c}).finally(()=>{s.promise=void 0;const u=t.value.indexOf(s);u!==-1&&t.value.splice(u,1)}),s.promise}function r(...l){return e.singleton&&t.value.length>0?t.value[0].promise:o(...l)}const i=ne((l,{slots:s})=>{const u=()=>t.value.map(c=>{var f;return W(se,{key:c.key},(f=s.default)==null?void 0:f.call(s,c))});return e.transition?()=>W(re,e.transition,u):u});return i.start=r,i}function K(e){var n;const t=M(e);return(n=t==null?void 0:t.$el)!=null?n:t}const L=ue?window:void 0;function V(...e){let n,t,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,o,r]=e,n=L):[n,t,o,r]=e,!n)return q;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const i=[],l=()=>{i.forEach(f=>f()),i.length=0},s=(f,d,S,h)=>(f.addEventListener(d,S,h),()=>f.removeEventListener(d,S,h)),u=R(()=>[K(n),M(r)],([f,d])=>{if(l(),!f)return;const S=ce(d)?{...d}:d;i.push(...t.flatMap(h=>o.map(g=>s(f,h,g,S))))},{immediate:!0,flush:"post"}),c=()=>{u(),l()};return H(c),c}function ge(){const e=A(!1),n=G();return n&&J(()=>{e.value=!0},n),e}function ye(e){const n=ge();return E(()=>(n.value,!!e()))}function we(e,n={}){const{window:t=L}=n,o=ye(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let r;const i=A(!1),l=c=>{i.value=c.matches},s=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",l):r.removeListener(l))},u=ie(()=>{o.value&&(s(),r=t.matchMedia(M(e)),"addEventListener"in r?r.addEventListener("change",l):r.addListener(l),i.value=r.matches)});return H(()=>{u(),s(),r=void 0}),i}const N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j="__vueuse_ssr_handlers__",Se=be();function be(){return j in N||(N[j]=N[j]||{}),N[j]}function Q(e,n){return Se[e]||n}function ke(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ce={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},x="vueuse-storage";function Ae(e,n,t,o={}){var r;const{flush:i="pre",deep:l=!0,listenToStorageChanges:s=!0,writeDefaults:u=!0,mergeDefaults:c=!1,shallow:f,window:d=L,eventFilter:S,onError:h=a=>{console.error(a)},initOnMounted:g}=o,v=(f?oe:A)(typeof n=="function"?n():n);if(!t)try{t=Q("getDefaultStorage",()=>{var a;return(a=L)==null?void 0:a.localStorage})()}catch(a){h(a)}if(!t)return v;const w=M(n),D=ke(w),b=(r=o.serializer)!=null?r:Ce[D],{pause:_,resume:p}=he(v,()=>F(v.value),{flush:i,deep:l,eventFilter:S});d&&s&&I(()=>{V(d,"storage",y),V(d,x,T),g&&y()}),g||y();function k(a,m){d&&d.dispatchEvent(new CustomEvent(x,{detail:{key:e,oldValue:a,newValue:m,storageArea:t}}))}function F(a){try{const m=t.getItem(e);if(a==null)k(m,null),t.removeItem(e);else{const C=b.write(a);m!==C&&(t.setItem(e,C),k(m,C))}}catch(m){h(m)}}function O(a){const m=a?a.newValue:t.getItem(e);if(m==null)return u&&w!=null&&t.setItem(e,b.write(w)),w;if(!a&&c){const C=b.read(m);return typeof c=="function"?c(C,w):D==="object"&&!Array.isArray(C)?{...w,...C}:C}else return typeof m!="string"?m:b.read(m)}function y(a){if(!(a&&a.storageArea!==t)){if(a&&a.key==null){v.value=w;return}if(!(a&&a.key!==e)){_();try{(a==null?void 0:a.newValue)!==b.write(v.value)&&(v.value=O(a))}catch(m){h(m)}finally{a?P(p):p()}}}}function T(a){y(a.detail)}return v}function $(e){return we("(prefers-color-scheme: dark)",e)}function Oe(e={}){const{selector:n="html",attribute:t="class",initialValue:o="auto",window:r=L,storage:i,storageKey:l="vueuse-color-scheme",listenToStorageChanges:s=!0,storageRef:u,emitAuto:c,disableTransition:f=!0}=e,d={auto:"",light:"light",dark:"dark",...e.modes||{}},S=$({window:r}),h=E(()=>S.value?"dark":"light"),g=u||(l==null?me(o):Ae(l,o,i,{window:r,listenToStorageChanges:s})),v=E(()=>g.value==="auto"?h.value:g.value),w=Q("updateHTMLAttrs",(p,k,F)=>{const O=typeof p=="string"?r==null?void 0:r.document.querySelector(p):K(p);if(!O)return;let y;if(f){y=r.document.createElement("style");const T="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";y.appendChild(document.createTextNode(T)),r.document.head.appendChild(y)}if(k==="class"){const T=F.split(/\s/g);Object.values(d).flatMap(a=>(a||"").split(/\s/g)).filter(Boolean).forEach(a=>{T.includes(a)?O.classList.add(a):O.classList.remove(a)})}else O.setAttribute(k,F);f&&(r.getComputedStyle(y).opacity,document.head.removeChild(y))});function D(p){var k;w(n,t,(k=d[p])!=null?k:p)}function b(p){e.onChanged?e.onChanged(p,D):D(p)}R(v,b,{flush:"post",immediate:!0}),I(()=>b(v.value));const _=E({get(){return c?g.value:v.value},set(p){g.value=p}});try{return Object.assign(_,{store:g,system:h,state:v})}catch{return _}}function De(e={}){const{valueDark:n="dark",valueLight:t="",window:o=L}=e,r=Oe({...e,onChanged:(s,u)=>{var c;e.onChanged?(c=e.onChanged)==null||c.call(e,s==="dark",u,s):u(s)},modes:{dark:n,light:t}}),i=E(()=>r.system?r.system.value:$({window:o}).value?"dark":"light");return E({get(){return r.value==="dark"},set(s){const u=s?"dark":"light";i.value===u?r.value="auto":r.value=u}})}export{Me as a,Le as c,De as u};
